<table style="margin: 20px auto 0 auto; font-weight: bold; font-size: 5rem; letter-spacing: 0.01rem; width: auto;">
  <tr>
    <td style="text-align: right; padding-right: 30px;"><%= @match.home_club.name %></td>
    <td style="text-align: center; width: 120px;">vs</td>
    <td style="text-align: left; padding-left: 30px;"><%= @match.away_club.name %></td>
  </tr>
  <tr>
    <td style="text-align: right; padding-right: 30px;"><%= @match.home_score %></td>
    <td style="text-align: center; width: 120px;">vs</td>
    <td style="text-align: left; padding-left: 30px;"><%= @match.away_score %></td>
  </tr>
  <tr>
    <td></td>
    <td style="font-size: 2rem;"><strong><%= @match.kickoff_at.strftime("%Y-%m-%d") %></strong></td>
    <td></td>
  </tr>
</table>

<div class="mom-voting-section" style="text-align: center; margin-top: 50px;">
  <details id="mom-details">
    <summary id="mom-summary" style="font-weight: bold; letter-spacing: 0.01rem; margin-top: 50px; font-size: 3.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center;">
      <span id="mom-arrow" style="font-size: 2rem; margin-right: 10px;">▶</span>
      Man of the Match Voting Result
    </summary>
    <div>
      <%= turbo_frame_tag "mom_results", style: "display: flex; flex-direction: column; align-items: center; justify-content: center;" do %>
        <%= render partial: "mom_results", locals: { mom_summary: @mom_summary } %>
      <% end %>

      <div style="display: flex; justify-content: center; align-items: center; margin: 20px 0;">
        <%= link_to "Vote", new_match_vote_path(@match.id), class: "modern-vote-btn" %>
      </div>
    </div>
  </details>
</div>

<script>
  document.addEventListener("turbo:load", function() {
    const details = document.getElementById("mom-details");
    const arrow = document.getElementById("mom-arrow");
    details.addEventListener("toggle", function() {
      arrow.textContent = details.open ? "▼" : "▶";
    });
  });
</script>

<style>
  .modern-vote-btn {
    display: inline-block;
    padding: 12px 32px;
    background: linear-gradient(90deg, #4f8cff 0%, #38e8ff 100%);
    color: #fff;
    font-weight: bold;
    font-size: 3rem;
    border: none;
    border-radius: 60px;
    box-shadow: 0 4px 16px rgba(79,140,255,0.15);
    text-decoration: none;
    transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
    letter-spacing: 0.05em;
  }
  .modern-vote-btn:hover {
    background: linear-gradient(90deg, #38e8ff 0%, #4f8cff 100%);
    box-shadow: 0 8px 24px rgba(56,232,255,0.18);
    transform: translateY(-2px) scale(1.04);
    color: #fff;
    text-decoration: none;
  }
</style>

<section>
  <h4>コメントする</h3>
  <%= render 'shared/comment_form', match: @match, comment: @comment %>
</section>

<section class="comments-list">
  <h3>スレッド</h4>
  <ol class="comments">
    <% @match.comments.order(created_at: :desc).each do |comment| %>
      <strong><%= comment.user.name %>:</strong>
      <span style="float:right" class="timestamp">
        <%= time_ago_in_words(comment.created_at) %>
      </span>
      <p><%= comment.content %></p>
    <% end %>
  </ol>
</section>